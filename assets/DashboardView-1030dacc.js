import{_,r as i,o as l,c as p,a as e,b as o,w as a,k as m,l as v,g as k,F as f,d as c}from"./index-7ca8e986.js";const{VITE_API:g}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"vue-hexschool-product-list",BASE_URL:"/w6-vue-router/",MODE:"production",DEV:!1,PROD:!0},x={data(){return{checkSuccess:!1}},methods:{checkLogin(){this.$http.post(`${g}/api/user/check`).then(()=>{this.checkSuccess=!0}).catch(t=>{alert(t.response.data.message),this.$router.push("/login")})},logout(){document.cookie="w6-token=;expires=;",alert("登出成功"),this.$router.push("/")}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)w6-token\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,t?this.checkLogin():(alert("您尚未登入"),this.$router.push("/login"))}},b={class:"container mt-4"},$=e("h1",{class:"text-center text-primary"},"後台頁面",-1),w={class:"navbar navbar-expand-lg bg-light"},V={class:"container-fluid"},E={class:"collapse navbar-collapse",id:"navbarSupportedContent"},A={class:"navbar-nav me-auto mb-2 mb-lg-0"},I={class:"nav-item"},B={class:"nav-item"},C={class:"nav-item"},P={class:"nav-item"};function S(t,n,T,D,u,r){const s=i("router-link"),d=i("router-view");return l(),p(f,null,[e("div",b,[e("header",null,[$,e("nav",w,[e("div",V,[e("div",E,[e("ul",A,[e("li",I,[o(s,{class:"nav-link",to:"/"},{default:a(()=>[c("回到前台")]),_:1})]),e("li",B,[o(s,{class:"nav-link",to:"/admin/products"},{default:a(()=>[c("後台產品列表")]),_:1})]),e("li",C,[o(s,{class:"nav-link",to:"/admin/orders"},{default:a(()=>[c("後台訂單列表")]),_:1})]),e("li",P,[e("a",{href:"#",class:"nav-link",onClick:n[0]||(n[0]=m((...h)=>r.logout&&r.logout(...h),["prevent"]))},"登出")])])])])])])]),u.checkSuccess?(l(),v(d,{key:0})):k("",!0)],64)}const L=_(x,[["render",S]]);export{L as default};
